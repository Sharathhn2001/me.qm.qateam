<mvc:View
    controllerName="com.monsterenergy.qm.me.qm.qateam.controller.HomePage"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar"
>
    <f:DynamicPage
        id="dynamicPage"
        headerExpanded="true"
    >
        <f:header>
            <f:DynamicPageHeader id="dynamicPageHeader">
                <f:content>
                    <fb:FilterBar
                        id="filterbar"
                        persistencyKey="myPersKey"
                        useToolbar="false"
                        search=".onSearch"
                        reset=".onResetPress"
                        filterChange=".onFilterChange"
                        advancedMode="false"
                    >
                        <fb:filterGroupItems>
                            <fb:FilterGroupItem
                                id="plantFilterGroupItemMultiPlant"
                                name="Werk"
                                label="{i18n>plant}"
                                groupName="Group2"
                                mandatory="true"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiInput
                                        id="plantMIput"
                                        editable="true"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest="onOpenDialogPlantValueHelpF4"
                                        tokenUpdate=".onPlantTokenChange"
                                    />
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem
                                id="plantFilterGroupItemplantname"
                                name="Werk"
                                label="{i18n>plant}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <Input
                                        id="plantName"
                                        editable="false"
                                        value="{ViewModel>/Plant}"
                                    />
                                    <!-- <MultiInput id="plantMIput" editable="false"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest=".onPlantValueHelpRequested"
                                        tokenUpdate=".onFilterGroupItemChange" /> -->
                                </fb:control>
                            </fb:FilterGroupItem>
                            <!--++BOC REQ0032724 - Purchase Order Filter Start - 01/12/2025 -->
                            <fb:FilterGroupItem
                                id="PurchaseOrderFilterGroupItem"
                                name="Ebeln"
                                label="{i18n>PurchaseOrder}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiInput
                                        id="PurchaseOrderInput"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest=".onPurchaseOrderValueHelp"
                                        liveChange=".onPOLiveChange"
                                        tokenUpdate=".onPurchaseOrderTokenChange"
                                        submit=".onPOEnter"
                                        suggestionItems="{
				                            path: 'PurchaseOrderF4Model>/results',
				                            sorter: { path: 'Ebeln' }
			                            }"
                                    >
                                        <core:ListItem
                                            key="{PurchaseOrderF4Model>Ebeln}"
                                            text="{= ${PurchaseOrderF4Model>Ebeln} + ' - ' + ${PurchaseOrderF4Model>Ebelp} }"
                                        />
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <!--++EOC REQ0032724 - Purchase Order Filter End - Sharath -->

                            <fb:FilterGroupItem
                                id="imaterialFilterGroupItem"
                                name="Matnr"
                                label="{i18n>material}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiInput
                                        id="materialMInput"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest=".onMaterialValueHelpRequested"
                                        liveChange=".onMaterialLiveChange"
                                        tokenUpdate=".onMaterialTokenChange"
                                        suggestionItems="{
				                            path: 'MaterialF4Model>/results',
				                            sorter: { path: 'Matnr' }
			                            }"
                                    >
                                        <core:ListItem
                                            key="{MaterialF4Model>Matnr}"
                                            text="{MaterialF4Model>Matnr}"
                                            additionalText="{MaterialF4Model>Maktx}"
                                        />
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem
                                id="batchFilterGroupItem"
                                name="Charg"
                                label="{i18n>batch}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiInput
                                        id="batchMInput"
                                        editable="true"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest=".onBatchValueHelpRequested"
                                        tokenUpdate=".onBatchTokenChange"
                                        liveChange=".onBatchLiveChange"
                                        suggestionItems="{
				                            path: 'BatchF4Model>/results',
				                            sorter: { path: 'Charg' }
			                            }"
                                    >
                                        <core:ListItem
                                            key="{BatchF4Model>Charg}"
                                            text="{BatchF4Model>Charg}"
                                        />
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem
                                id="formulaFilterGroupItem"
                                name="Zzhbcformula"
                                visible="true"
                                label="{i18n>formula}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiInput
                                        id="formulaMInput"
                                        editable="true"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest=".onFormulaValueHelpRequested"
                                        tokenUpdate=".onFormulaTokenChange"
                                        suggestionItems="{
				                            path: 'FormulaF4Model>/results',
				                            sorter: { path: 'Zzhbcformula' }
			                            }"
                                    >
                                        <core:ListItem
                                            key="{FormulaF4Model>Zzhbcformula}"
                                            text="{FormulaF4Model>Zzhbcformula}"
                                        />
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <fb:FilterGroupItem
                                id="dateFilterGroupItem"
                                name="CreateDt"
                                label="{i18n>date}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <DateRangeSelection
                                        id="dateRangeSelection"
                                        change=".onFilterGroupItemChange"
                                        displayFormat="dd.MM.yyyy"
                                    />
                                </fb:control>
                            </fb:FilterGroupItem>
                            <!--++BOC REQ0032724 - Sample Type Filter Start - 01/12/2025-->
                            <fb:FilterGroupItem
                                id="sampleFilterGroupItem"
                                name="SampleType"
                                visible="true"
                                label="{i18n>SampleType}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiInput
                                        id="sampleTypeMInput"
                                        editable="true"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest=".onSampleTypeValueHelp"
                                        tokenUpdate=".onSampleTypeTokenChange"
                                        suggestionItems="{
            path: 'SampleTypeModel>/results',
            sorter: { path: 'SampleType' }
        }"
                                    >
                                        <core:ListItem
                                            key="{SampleTypeModel>SampleType}"
                                            text="{SampleTypeModel>SampleTypeDesc}"
                                        />
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <!--++EOC REQ0032724 - Sample Type Filter End - by Sharath on 01/12/2025-->

                            <!--++BOC REQ0032724 - Syrup Batch Filter Start - 01/12/2025 -->
                            <fb:FilterGroupItem
                                id="syrupBatchFilterGroupItem"
                                name="SyrupBatch"
                                visible="true"
                                label="{i18n>SyrupBatch}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiInput
                                        id="syrupBatchMInput"
                                        editable="true"
                                        showValueHelp="true"
                                        showSuggestion="true"
                                        valueHelpRequest=".SyrupBatchValueHelp"
                                        tokenUpdate=".onSyrupBatchTokenChange"
                                        suggestionItems="{
                path: 'SyrupBatchModel>/results',
                sorter: { path: 'SyrupBatch' }
            }"
                                    >
                                        <core:ListItem
                                            key="{SyrupBatchModel>Userc1}"
                                            text="{SyrupBatchModel>Userc1}"
                                        />
                                    </MultiInput>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <!--++EOC REQ0032724 - Syrup Batch Filter End - Sharath-->

                            <!--++BOC REQ0032724 - UD Status Filter Start - 02/12/2025-->
                            <fb:FilterGroupItem
                                id="statusFilterGroupItem"
                                name="Status"
                                label="{i18n>udstatus}"
                                groupName="Group1"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <ComboBox
                                        id="statusCombo"
                                        items="{path:'/UsageDecisionF4Set'}"
                                        filterSecondaryValues="true"
                                        change=".onFilterGroupItemChange"
                                        value="{CodeValText}"
                                    >
                                        <core:ListItem
                                            key="{Vbewertung}"
                                            text="{CodeValText}"
                                        />
                                    </ComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>
                            <!--++EOC REQ0032724 - UD Status Filter End - Sharath-->
                        </fb:filterGroupItems>
                    </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <Table
                id="table"
                mode="MultiSelect"
                noDataText="{ViewModel>/tableNoDataText}"
                inset="false"
                popinLayout="GridLarge"
                busyIndicatorDelay="{ViewModel>/tableBusyDelay}"
                growing="true"
                itemPress=".onItemPress"
                growingScrollToLoad="false"
                growingThreshold="10"
                sticky="HeaderToolbar,InfoToolbar,ColumnHeaders"
                fixedLayout="true"
            >
                <headerToolbar>
                    <OverflowToolbar id="tableOverflowToolbar">
                        <Title
                            id="tableHeader"
                            text="{i18n>tablehdr}"
                            level="H3"
                        />
                        <ToolbarSpacer id="tableToolbarSpacer" />
                        <!--++BOC REQ0032717 - Mass Upload Button Start - by Sharath on 08/12/2025 -->
                        <Button
                            text="Mass Upload"
                            icon="sap-icon://upload"
                            type="Emphasized"
                            press=".onOpenUploadDialog"
                        />
                        <!--++EOC REQ0032717 - Mass Upload Button End - Sharath -->

                        <!--++BOC REQ0032717 - Download Excel Template Button Start - by Sharath on 05/12/2025-->
                        <Button
                            text="Download Excel Template"
                            icon="sap-icon://excel-attachment"
                            type="Emphasized"
                            press=".onDownloadTemplate"
                        />
                        <!--++EOC REQ0032717 - Download Excel Template Button End - Sharath-->

                        <!--++BOC REQ0032729 - Export to Excel Button Start - by PANKAJ MISHRA on 16/12/2025 -->
                        <Button
                            id="exportToExcelButton"
                            text="Download Report"
                            visible="true"
                            press=".onExportToExcelPress"
                            type="Emphasized"
                            icon="sap-icon://excel-attachment"
                        />
                        <!--++EOC REQ0032729 - Export to Excel Button End - PANKAJ MISHRA -->

                        <Button
                            id="createButton"
                            text="{i18n>submitnew}"
                            icon="sap-icon://add"
                            visible="true"
                            press=".onSubmitNewPress"
                            type="Emphasized"
                        />

                        <Button
                            id="sortbutton"
                            tooltip="Sort"
                            icon="sap-icon://sort"
                            press="handleSortButtonPressed"
                            type="Emphasized"
                        />
                    </OverflowToolbar>
                </headerToolbar>
                <columns>
                    <Column
                        id="dateColumn"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        popinDisplay="Inline"
                        hAlign="Begin"
                    >
                        <Label
                            id="dateColumnLabel"
                            text="{i18n>date}"
                            wrapping="true"
                        />
                    </Column>
                    <!--++BOC REQ0032724 - PO Column Start - by Sharath on 01/12/2025 -->
                    <Column
                        id="Ebeln"
                        width="10%"
                        hAlign="Begin"
                    >
                        <Label
                            id="ColumnLabelPurchase"
                            text="{i18n>Purchase Order}"
                            wrapping="true"
                        />
                    </Column>
                    <!--++EOC REQ0032724 - PO Column End - by Sharath on 01/12/2025 -->
                    <Column
                        id="materialColumn"
                        width="20%"
                        hAlign="Begin"
                    >
                        <Label
                            id="materialColumnLabel"
                            text="{i18n>material}"
                        />
                    </Column>
                    <Column
                        id="batchColumn"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        popinDisplay="Inline"
                        hAlign="Begin"
                    >
                        <Label
                            id="batchColumnLabel"
                            text="{i18n>batch}"
                        />
                    </Column>
                    <Column
                        id="formulaColumn"
                        hAlign="Begin"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        popinDisplay="Inline"
                    >
                        <Label
                            id="formulaColumnLabel"
                            text="{i18n>formula}"
                        />
                    </Column>
                    <!--++BOC REQ0032724 - Sample Type Column Start - by Sharath on 02/12/2025 -->
                    <Column
                        id="sampletypeColumn"
                        hAlign="Begin"
                        width="25%"
                        minScreenWidth="Tablet"
                        demandPopin="true"
                        popinDisplay="Inline"
                    >
                        <Label
                            id="sampletypeColumnLabel"
                            text="{i18n>Syrup Batch : Sample Type}"
                        />
                    </Column>
                    <!--++EOC REQ0032724 - Sample Type Column End - by Sharath on 01/12/2025-->
                    <!--++BOC REQ0032724 - User Status Column Start - by Sharath on 01/12/2025 -->
                    <Column
                        id="userstatusColumn"
                        hAlign="Begin"
                        visible="true"
                    >
                        <Label
                            id="userstatusColumnLabel"
                            text="{i18n>udstatus}"
                        />
                    </Column>
                    <!--++EOC REQ0032724 - User Status Column End - by Sharath on 01/12/2025 -->
                </columns>
                <items>
                    <ColumnListItem
                        id="clmlistitem"
                        visible="false"
                        type="Navigation"
                    >
                        <cells>
                            <Text
                                text="{path:'CreateDt', formatter:'.formatter.dateFormatter'}"
                            />
                            <!--++BOC REQ0032724 - Display PO/Item, Material, Batch, Formula, Sample Type, CodeValText Start - Sharath -->
                            <Text
                                text="{Ebeln} - {= ${Ebelp} === '00000' ? '' : parseInt(${Ebelp}, 10) }"
                            /> <!--++Added PO & Item display-->
                            <Text text="{Matnr} - {Maktx}" />
                            <Text text="{Charg}" />
                            <Text text="{Zzhbcformula}" />
                            <Text text="{SampleSyrup}" /> <!--++Added Sample Type/Syrup Batch display-->
                            <Text text="{CodeValText}" />  <!--++Added CodeValText display-->
                    
                            <!--++EOC REQ0032724 - End of added display fields - Sharath-->
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </f:content>
    </f:DynamicPage>
</mvc:View>
